######################################################################
# seed.config (CR6606 / ramips mt7621)
# Purpose: Lean home LAN + IoT + QoS + diagnostics, HTTP LuCI only,
#          minimal TLS features for client/outbound needs, no USB/storage/VPN.
######################################################################

##### 1. Target / Profile #####
CONFIG_TARGET_ramips=y
CONFIG_TARGET_ramips_mt7621=y
CONFIG_TARGET_ramips_mt7621_DEVICE_xiaomi_mi-router-cr6606=y

##### 2. Core System & Base Services #####
CONFIG_PACKAGE_ca-bundle=y
# CONFIG_PACKAGE_ca-certificates is not set      # Keep smaller trust store
CONFIG_PACKAGE_firewall4=y
CONFIG_PACKAGE_rpcd=y
CONFIG_PACKAGE_uhttpd=y
CONFIG_PACKAGE_uhttpd-mod-ubus=y
CONFIG_PACKAGE_odhcp6c=y
CONFIG_PACKAGE_odhcpd-ipv6only=y
CONFIG_PACKAGE_luci=y
# CONFIG_PACKAGE_luci-ssl is not set              # Plain HTTP UI
# CONFIG_PACKAGE_luci-ssl-nginx is not set
# CONFIG_PACKAGE_nginx is not set
# CONFIG_PACKAGE_nginx-ssl is not set
CONFIG_PACKAGE_luci-mod-status=y                # Keep status pages

##### 3. User Interface Enhancements #####
CONFIG_PACKAGE_luci-theme-argon=y

##### 4. Wireless #####
CONFIG_PACKAGE_iw=y
CONFIG_PACKAGE_kmod-mt7915e=y
CONFIG_PACKAGE_wireless-tools=y
CONFIG_PACKAGE_wpad-basic-mbedtls=y
# CONFIG_PACKAGE_wpad-basic-wolfssl is not set
# CONFIG_PACKAGE_wpad-openssl is not set

##### 5. QoS (nftables based) #####
CONFIG_PACKAGE_nft-qos=y
CONFIG_PACKAGE_luci-app-nft-qos=y
# CONFIG_PACKAGE_luci-app-sqm is not set
# CONFIG_PACKAGE_sqm-scripts is not set

##### 6. Diagnostics / Troubleshooting #####
CONFIG_PACKAGE_iperf3=y
CONFIG_PACKAGE_tcpdump-mini=y

##### 6b. Bandwidth Monitoring #####
CONFIG_PACKAGE_luci-app-nlbwmon=y
CONFIG_PACKAGE_luci-app-wrtbwmon=y

##### 7. IoT / Local Discovery #####
CONFIG_PACKAGE_mdnsd=y                   # Lightweight mDNS responder
# CONFIG_PACKAGE_avahi-daemon is not set
# CONFIG_PACKAGE_avahi-dbus-daemon is not set
# CONFIG_PACKAGE_mdns-repeater is not set      # Enable only for cross-VLAN mDNS
# CONFIG_PACKAGE_igmpproxy is not set          # IPTV / multicast routing if needed
# CONFIG_PACKAGE_miniupnpd is not set          # UPnP (security trade-off)
# CONFIG_PACKAGE_luci-app-upnp is not set

##### 8. Cloudflared (DNS over HTTPS tunnel) #####
CONFIG_PACKAGE_cloudflared=y
CONFIG_PACKAGE_luci-app-cloudflared=y
CONFIG_PACKAGE_luci-i18n-cloudflared-zh-cn=y
CONFIG_PACKAGE_luci-i18n-cloudflared-en=y

##### 8b. HTTPS DNS Proxy (DoH client) #####
CONFIG_PACKAGE_https-dns-proxy=y
CONFIG_PACKAGE_luci-app-https-dns-proxy=y
CONFIG_PACKAGE_luci-i18n-https-dns-proxy-zh-cn=y
CONFIG_PACKAGE_luci-i18n-https-dns-proxy-en=y

##### 9. DNS / DHCP Backend #####
# CONFIG_PACKAGE_dnsmasq is not set
CONFIG_PACKAGE_dnsmasq-full=y
CONFIG_PACKAGE_luci-app-smartdns=y

##### 10. TLS / Crypto (mbedTLS backend & selected features) #####
CONFIG_PACKAGE_libustream-mbedtls=y
# CONFIG_PACKAGE_libustream-openssl is not set
# CONFIG_PACKAGE_libustream-wolfssl is not set

# Enabled minimal feature set (keep lean, supports outbound HTTPS & WPA2):
CONFIG_MBEDTLS_AES_C=y
CONFIG_MBEDTLS_GCM_C=y
CONFIG_MBEDTLS_KEY_EXCHANGE_ECDHE_RSA_ENABLED=y
CONFIG_MBEDTLS_ECP_DP_SECP256R1_ENABLED=y
CONFIG_MBEDTLS_ECP_DP_CURVE25519_ENABLED=y
CONFIG_MBEDTLS_SSL_PROTO_TLS1_2=y

# Optional (leave commented unless required):
CONFIG_MBEDTLS_SSL_PROTO_TLS1_3=y
CONFIG_MBEDTLS_HKDF_C=y                            # Needed if enabling TLS1.3
# CONFIG_MBEDTLS_KEY_EXCHANGE_PSK_ENABLED=y          # Pure PSK use-cases / some IoT
# CONFIG_MBEDTLS_KEY_EXCHANGE_ECDHE_PSK_ENABLED=y
CONFIG_MBEDTLS_KEY_EXCHANGE_ECDHE_ECDSA_ENABLED=y  # ECDSA server certs
# CONFIG_MBEDTLS_ECP_DP_SECP384R1_ENABLED=y
# CONFIG_MBEDTLS_ECP_DP_SECP521R1_ENABLED=y
# CONFIG_MBEDTLS_ECP_DP_SECP256K1_ENABLED=y
# CONFIG_MBEDTLS_CMAC_C=y
# CONFIG_MBEDTLS_DES_C=y
# CONFIG_MBEDTLS_NIST_KW_C=y
# CONFIG_MBEDTLS_THREADING_C=y
# CONFIG_MBEDTLS_THREADING_PTHREAD=y
# CONFIG_MBEDTLS_PSA_CRYPTO_CLIENT=y
# CONFIG_MBEDTLS_ENTROPY_FORCE_SHA256=y
# CONFIG_MBEDTLS_RSA_NO_CRT=y                       # Usually keep disabled (performance)

# If switching to HTTPS UI later, consider enabling:
#   TLS1.3 (+ HKDF), ECDHE_ECDSA (if using ECDSA certs)

##### 11. Explicitly Disabled (selected to reduce image) #####
# VPN: kmod-wireguard, wireguard-tools, openvpn*, passwall / shadowsocks / v2ray / xray (all not set)
# USB & Storage: all USB host, storage, filesystem, printer and related utils not set (CR6606 has no USB)
# Monitoring: collectd*, luci-app-statistics not set
# Adblock: luci-app-adblock not set
# DDNS: ddns-scripts*, luci-app-ddns not set
# WOL: etherwake, luci-app-wol not set
# NATMap / schedule / Samba: natmap*, wifischedule, samba4* not set

##### 12. Golang Runtime / Build (optional, increases image size) #####
# Enable only if you plan to build or run Go-based tools on the router.
# CONFIG_PACKAGE_golang=y
# CONFIG_PACKAGE_golang-src=y

######################################################################
# End of seed.config
######################################################################
